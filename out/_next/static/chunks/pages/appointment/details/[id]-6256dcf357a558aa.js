(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[655],{9835:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/appointment/details/[id]",function(){return s(1557)}])},1557:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var n=s(8520),a=s.n(n),i=s(5893),l=s(9669),r=s.n(l),d=s(1163),c=s(7294),o=s(8100),x=s(1980);function u(e,t,s,n,a,i,l){try{var r=e[i](l),d=r.value}catch(c){return void s(c)}r.done?t(d):Promise.resolve(d).then(n,a)}var p,m=(p=a().mark((function e(t){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("appnId in fetcher",t),e.next=3,r().get(t);case 3:return s=e.sent.data,console.log("daataaa",s),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(s,n){var a=p.apply(e,t);function i(e){u(a,s,n,i,l,"next",e)}function l(e){u(a,s,n,i,l,"throw",e)}i(void 0)}))});function f(){var e=(0,d.useRouter)(),t=(0,c.useContext)(x.StateContext),s=e.query.id;console.log("appniD",s);var n=(0,o.ZP)("/api/appointment/patient/".concat(s),m),a=n.data;return n.error&&(d.default.push("/"),console.log("Flashing error...")),a?(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsxs)("div",{className:"text-sm font-small px-4 text-gray-800",children:["Total-",a.total]}),(0,i.jsxs)("div",{className:"text-sm font-small px-4 text-gray-500",children:["Completed - ",a.completed]}),(0,i.jsxs)("div",{className:"text-sm font-small px-4 text-gray-500",children:["Pending - ",a.pending]}),(0,i.jsxs)("div",{className:"text-sm font-small px-4 text-gray-500",children:["Current - ",-1==a.currentVisiting?"Waiting":a.currentVisiting]})]}),(0,i.jsx)("div",{className:"flex flex-col",children:(0,i.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,i.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:(0,i.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:(0,i.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,i.jsx)("thead",{className:"bg-gray-50",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mobile No."}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,i.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.appointments.map((function(e,s){return(0,i.jsxs)("tr",{className:e.patientId==t.count.currentUser.id?"bg-red-100":"",children:[(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsx)("div",{className:"ml-4",children:(0,i.jsxs)("div",{className:"text-md font-medium text-gray-600",children:[s+1,". ",e.name]})})})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)("div",{className:"text-sm text-gray-900",children:e.mobile})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:"pending"==e.status?(0,i.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800",children:e.status}):"invisit"==e.status?(0,i.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:e.status}):"completed"==e.status?(0,i.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:e.status}):(0,i.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:e.status})})]},s)}))})]})})})})})]}):(console.log("in not data"),"Loading....")}}},function(e){e.O(0,[100,774,888,179],(function(){return t=9835,e(e.s=t);var t}));var t=e.O();_N_E=t}]);