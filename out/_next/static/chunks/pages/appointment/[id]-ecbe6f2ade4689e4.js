(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{9688:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/appointment/[id]",function(){return n(3165)}])},3165:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(8520),o=n.n(r),a=n(5893),i=n(1163),s=n(7294),c=n(1980),l=n(9669),u=n.n(l);n(7722);function d(e,t,n){e({type:t,payload:n}),setTimeout((function(){e({type:"removeErrors",payload:null})}),2e3)}function p(e,t,n){e({type:t,payload:n}),setTimeout((function(){e({type:"removeSuccess",payload:null})}),2e3)}function m(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){m(a,r,o,i,s,"next",e)}function s(e){m(a,r,o,i,s,"throw",e)}i(void 0)}))}}function y(){var e=(0,s.useContext)(c.StateContext),t=(0,i.useRouter)().query.id;console.log("doctorrr id",t);var n=(0,s.useState)(null),r=n[0],l=n[1],m=(0,s.useState)(null),y=m[0],h=m[1];(0,s.useEffect)((function(){function t(){return(t=f(o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={headers:{"Content-Type":"application/json"},withCredentials:!0},t.next=4,u().get("/api/users/currentUser",n);case 4:r=t.sent.data,console.log("Data in appointment",r),r.currentUser?e.dispatch({type:"authenticate",payload:r.currentUser}):(i.default.push("/"),e.dispatch({type:"unauthenticate",payload:""}),d(e.dispatch,"setErrors",[{message:"Please login first"}])),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),(0,s.useEffect)((function(){function e(){return(e=f(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,u().get("/api/users/".concat(t));case 3:n=e.sent,console.log("data in appointment",n.data),l(n.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),console.log("rendering....");var b=f(o().mark((function n(r){var a,s,c,l,m,f;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),console.log(r.target.date.value),console.log(new Date(r.target.date.value)),(m={}).name=r.target.pname.value,m.address=r.target.paddress.value,m.mobile=r.target.pmnumber.value,a=new Date(r.target.date.value),m.date=a.toString(),m.time=y,console.log("obj on submitting",m),s={headers:{"Content-Type":"application/json"},withCredentials:!0},c=JSON.stringify(m),n.prev=13,n.next=16,u().post("/api/appointment/".concat(t),c,s);case 16:l=n.sent,console.log(l.data),m={message:l.data},(f=[]).push(m),p(e.dispatch,"setSuccess",f),i.default.push("/"),n.next=30;break;case 25:n.prev=25,n.t0=n.catch(13),console.log(n.t0.response),window.scrollTo(0,0),d(e.dispatch,"setErrors",n.t0.response.data.errors);case 30:case"end":return n.stop()}}),n,null,[[13,25]])})));return(0,a.jsx)("div",{className:"mt-10 sm:mt-0",children:(0,a.jsxs)("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[(0,a.jsx)("div",{className:"md:col-span-1",children:(0,a.jsxs)("div",{className:"px-4 sm:px-0",children:[(0,a.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Book appointment"}),(0,a.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:r&&r.name}),r&&r.chambers.map((function(e,t){return(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-600",children:["Sits from ",e.timing," on ",e.weekdays.map((function(e,t){return e+","}))]},t)}))]})}),(0,a.jsx)("div",{className:"mt-5 md:mt-0 md:col-span-2",children:(0,a.jsx)("form",{onSubmit:b,children:(0,a.jsx)("div",{className:"shadow overflow-hidden sm:rounded-md",children:(0,a.jsx)("div",{className:"px-4 py-5 bg-white sm:p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[(0,a.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,a.jsx)("label",{htmlFor:"first-name",className:"block text-sm font-medium text-gray-700",children:"Patient Name"}),(0,a.jsx)("input",{type:"text",name:"pname",id:"first-name",autoComplete:"given-name",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,a.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,a.jsx)("label",{htmlFor:"last-name",className:"block text-sm font-medium text-gray-700",children:"Patient Address"}),(0,a.jsx)("input",{type:"text",name:"paddress",id:"last-name",autoComplete:"family-name",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,a.jsxs)("div",{className:"col-span-6 sm:col-span-4",children:[(0,a.jsx)("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700",children:"Mobile Number"}),(0,a.jsx)("input",{type:"text",name:"pmnumber",id:"email-address",autoComplete:"email",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,a.jsxs)("div",{className:"col-span-6 sm:col-span-4",children:[(0,a.jsx)("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700",children:"Date of Booking"}),(0,a.jsx)("input",{type:"date",name:"date",id:"email-address",autoComplete:"date",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,a.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,a.jsx)("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"Timing"}),(0,a.jsxs)("select",{required:!0,name:"timing",onChange:function(e){return h(e.target.value)},value:y,id:"country",autoComplete:"country-name",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[(0,a.jsx)("option",{value:"",children:"--Select a time--"}),r&&r.chambers.map((function(e,t){return(0,a.jsx)("option",{value:e.timing,children:e.timing},t)}))]})]}),(0,a.jsx)("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:(0,a.jsx)("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Save"})})]})})})})})]})})}},2703:function(e,t,n){"use strict";var r=n(414);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},5697:function(e,t,n){e.exports=n(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7722:function(e,t,n){var r;n.g,r=()=>(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Flasher:()=>U,default:()=>W,flash:()=>p});const r=n(7294);var o=e.n(r);const a=n(5697);var i=e.n(a);function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n){this.content=t,this.id=e,this.type=n}var u,d=[];function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e3,n=arguments.length>2?arguments[2]:void 0,r=s(d),o=(new Date).getTime(),a=o+"_"+r.length;window.setTimeout((function(){f(a)}),t);var i=new l(a,e,n);r.push(i),m(r)}function m(e){d=s(e),u&&u()}function f(e){var t=s(d);t.find((function(t){return t.id===e}))&&m(t.filter((function(t){return t.id!==e})))}function y(e){u=e}var h={zIndex:999,position:"fixed",width:"auto",height:"auto",minWidth:"30%"},b={padding:"20px",backgroundColor:"black",color:"white",marginBottom:"15px",textAlign:"center"},g="top_left",v="top_right",x="top_center",j="bottom_left",O="bottom_right",w="bottom_center",P="custom";const S=function(e){var t=e.id,n=e.type,r=e.content;return o().createElement("div",{id:"flash-".concat(t),style:b,type:n},r)};function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=e.flashes,n=e.child,a=e.style,i=(0,r.useMemo)((function(){return t.map((function(e,t){return o().isValidElement(n)?o().cloneElement(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:e.id,deleteFlash:f.bind(null,e.id)},e)):o().createElement(S,N({key:e.id},e))}))}),[t,n]);return o().createElement(o().Fragment,null,t.length>0&&o().createElement("div",{style:a,id:"flash-box"},i))}_.defaultProps={flashes:[]},_.propTypes={flashes:i().arrayOf(i().object)};const T=_;function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const U=function(e){var t=e.children,n=e.position,a=e.width,i=e.customStyles,s=M((0,r.useReducer)((function(e){return e+1}),0),2),c=(s[0],s[1]),l=M((0,r.useState)(h),2),u=l[0],p=l[1];(0,r.useEffect)((function(){a&&p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({minWidth:a},u))}),[a]);var m=(0,r.useMemo)((function(){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(e&&e.toLowerCase()||""){case g:return D({top:10,left:10},t);case v:return D({top:10,right:10},t);case x:return D({top:10,left:"50%",transform:"translateX(-50%)"},t);case j:return D({bottom:10,left:10},t);case O:return D({bottom:10,right:10},t);case w:return D({bottom:10,left:"50%",transform:"translateX(-50%)"},t);case P:return D(D({},t),n);default:return D({top:10,right:10},t)}}(n,u,i)}),[n,i,u]);return(0,r.useEffect)((function(){y(c)}),[c]),o().createElement(T,{flashes:d,child:t,style:m})},W=U;return t})(),e.exports=r()}},function(e){e.O(0,[774,888,179],(function(){return t=9688,e(e.s=t);var t}));var t=e.O();_N_E=t}]);