(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[947],{2503:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/doctorSignin",function(){return n(4352)}])},4352:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(8520),o=n.n(r),s=n(5893),a=n(7294),i=n(1980),c=n(1163),l=n(9669),u=n.n(l);function d(e,t,n,r,o,s,a){try{var i=e[s](a),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,o)}function m(e){var t,n=e.url,r=e.method,s=e.stateContext,a=e.onSuccess,i={headers:{"Content-Type":"application/json"},withCredentials:!0};return t=o().mark((function e(t){var c,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()[r](n,t,i);case 3:c=e.sent,s.dispatch({type:"authenticate",payload:c.data}),console.log("in ignin response",c.data),a&&a(),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("in error of useRequest ",e.t0),l=e.t0.response.data.errors,console.log(l),l&&(s.dispatch({type:"setErrors",payload:l}),setTimeout((function(){s.dispatch({type:"removeErrors",payload:null})}),2e3));case 15:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var s=t.apply(e,n);function a(e){d(s,r,o,a,i,"next",e)}function i(e){d(s,r,o,a,i,"throw",e)}a(void 0)}))}}var f=n(1664),p=(n(5564),n(1516));function h(e,t,n,r,o,s,a){try{var i=e[s](a),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,o)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){var e=(0,a.useContext)(i.StateContext);console.log("In signin form",e);var t,n=(0,a.useState)({email:"",password:""}),r=n[0],l=n[1],u=m({url:"/api/users/doctor/signin",method:"post",stateContext:e,onSuccess:function(){c.default.push("/doctor/dashboard")}}),d=r.email,g=r.password,v=function(e){return l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}({},r,x({},e.target.name,e.target.value)))},w=(t=o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.stringify({email:t,password:n}),e.next=3,u(r);case 3:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var s=t.apply(e,n);function a(e){h(s,r,o,a,i,"next",e)}function i(e){h(s,r,o,a,i,"throw",e)}a(void 0)}))});return e.count.currentUser&&0==e.count.currentUser.userRole&&c.default.push("/"),(0,s.jsx)("div",{className:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),(0,s.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),(0,s.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,s.jsx)("button",{className:"font-medium text-indigo-600 hover:text-indigo-500",children:(0,s.jsx)(f.default,{href:"/auth/doctorSignup",children:"Not registered yet Signup"})})]})]}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:function(e){e.preventDefault(),w(d,g)},children:[(0,s.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),(0,s.jsx)("input",{value:d,onChange:function(e){return v(e)},id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,s.jsx)("input",{value:g,onChange:function(e){return v(e)},minLength:"6",id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,s.jsx)("div",{className:"text-sm",children:(0,s.jsx)("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"})})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,s.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,s.jsx)(p.Z,{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})}),"Sign in"]})})]})]})})}},5564:function(e,t,n){"use strict";n(8520),n(9669),n(7294),n(1980)},1516:function(e,t,n){"use strict";var r=n(7294);const o=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"}))}));t.Z=o}},function(e){e.O(0,[774,888,179],(function(){return t=2503,e(e.s=t);var t}));var t=e.O();_N_E=t}]);