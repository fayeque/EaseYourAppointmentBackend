(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[624],{1175:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/patientSignin",function(){return n(7021)}])},7021:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(8520),o=n.n(r),i=n(5893),a=n(7294),s=n(1980),l=n(1163),c=n(1664),u=(n(5564),n(9669)),d=n.n(u),p=n(1516),m=function(e){return(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:e.type,className:"sr-only",children:e.type}),(0,i.jsx)("input",{onChange:function(t){return function(t){console.log("name and value in input ",t.target.name,t.target.value),e.onInput(t.target.name,t.target.value)}(t)},minLength:e.minLength,id:e.id,name:e.name,type:e.type,autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:e.placeholder})]})};function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){console.log("useForm getting called ");var t=(0,a.useState)(e),n=t[0],r=t[1];console.log("formstate in useform ",n);return[n,function(e,t){console.log("id and value in useForm ",e,t),r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},n,f({},e,t)))}]};function g(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,o)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v=function(){var e,t=(0,a.useContext)(s.StateContext),n=x(h({email:"",password:""}),2),r=n[0],u=n[1],f=(e=o().mark((function e(n,r){var i,a,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={headers:{"Content-Type":"application/json"},withCredentials:!0},a=JSON.stringify({email:n,password:r}),e.prev=2,e.next=5,d().post("/api/users/patient/signin",a,i);case 5:s=e.sent,t.dispatch({type:"authenticate",payload:s.data}),console.log("in ignin response",s.data),l.default.push("/"),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),c=e.t0.response.data.errors,console.log(c),c&&(t.dispatch({type:"setErrors",payload:c}),setTimeout((function(){t.dispatch({type:"removeErrors",payload:null})}),2e3));case 16:case"end":return e.stop()}}),e,null,[[2,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g(i,r,o,a,s,"next",e)}function s(e){g(i,r,o,a,s,"throw",e)}a(void 0)}))});return(0,i.jsx)("div",{className:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),(0,i.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),(0,i.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,i.jsxs)("p",{className:"font-medium text-indigo-600 hover:text-indigo-500",children:["Not registered yet register here ",(0,i.jsx)(c.default,{href:"/auth/patientSignup",children:"Signup"})]})]})]}),(0,i.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:function(e){e.preventDefault(),console.log("formState ",r),f(r.email,r.password)},children:[(0,i.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,i.jsx)(m,{type:"email",name:"email",id:"email",placeholder:"email",minLength:"5",onInput:u}),(0,i.jsx)(m,{type:"password",name:"password",id:"password",placeholder:"password",minLength:"6",onInput:u})]}),(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"})})}),(0,i.jsx)("div",{children:(0,i.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,i.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,i.jsx)(p.Z,{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})}),"Sign in"]})})]})]})})}},5564:function(e,t,n){"use strict";n(8520),n(9669),n(7294),n(1980)},1516:function(e,t,n){"use strict";var r=n(7294);const o=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"}))}));t.Z=o}},function(e){e.O(0,[774,888,179],(function(){return t=1175,e(e.s=t);var t}));var t=e.O();_N_E=t}]);